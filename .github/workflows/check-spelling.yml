name: "Check Spelling"

on:
  push:
  # You can manually run this workflow.
  workflow_dispatch:

jobs:

# ---------------------------------------------------------------------------------------

  check-spelling:

# ---------------------------------------------------------------------------------------

    name: "Spell Checker"
    runs-on: ubuntu-latest

    steps:
      - name: ü§ò Checkout Code
        uses: actions/checkout@v2 # https://github.com/actions/checkout

      - name: üîΩ Install Dependencies
        run: sudo npm install -g cspell

      - name: üôè Check Spelling using cspell
        run: |
          export CSPELL_OUTPUT=$(sudo cspell --no-summary "*.txt" "*.md" "docs/*.md" "cmake/**.cmake" "src/**/*.h" "src/**/*.cpp" "tests/**/*.h" "tests/**/*.cpp")
          if [ -n "$CSPELL_OUTPUT" ]; then echo "$CSPELL_OUTPUT" && exit 1; fi;